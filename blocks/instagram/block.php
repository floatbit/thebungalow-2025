<?php
/**
 * Block template file: block.php
 *
 * Instagram Block Template.
 *
 * @param   array $block The block settings and attributes.
 * @param   string $content The block inner HTML (empty).
 * @param   bool $is_preview True during AJAX preview.
 * @param   (int|string) $post_id The post ID this block is saved to.
 */

// Create id attribute allowing for custom "anchor" value.
$id = 'instagram-' . $block['id'];
if ( ! empty($block['anchor'] ) ) {
    $id = $block['anchor'];
}

// Create class attribute allowing for custom "className" and "align" values.
$classes = 'acf-block block-instagram';
if ( ! empty( $block['className'] ) ) {
    $classes .= ' ' . $block['className'];
}
if ( ! empty( $block['align'] ) ) {
    $classes .= ' align' . $block['align'];
}

$classes .= ' ' . get_field('bottom_margin');
?>

<div id="<?php echo esc_attr( $id ); ?>" class="<?php echo esc_attr( $classes ); ?>">
    <div class="container">
        <div class="flex justify-between">
            <p class="h4">
                <a href="https://www.instagram.com/<?php echo get_field('instagram_handle'); ?>/" class="flex gap-2 no-underline items-center">
                    <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_2085_10101)">
                            <path d="M7.0301 0.844179C5.7533 0.904419 4.88138 1.10818 4.11914 1.4077C3.33026 1.71514 2.66162 2.1277 1.99634 2.79538C1.33106 3.46306 0.921379 4.13218 0.616099 4.92226C0.320659 5.68618 0.120499 6.55882 0.0640995 7.83634C0.00769946 9.11386 -0.00478054 9.5245 0.00145946 12.7832C0.00769946 16.0419 0.0220995 16.4504 0.0840195 17.7306C0.144979 19.0071 0.348019 19.8788 0.647539 20.6413C0.955459 21.4302 1.36754 22.0986 2.03546 22.7641C2.70338 23.4296 3.37202 23.8383 4.16402 24.1441C4.92722 24.4391 5.8001 24.6402 7.07738 24.6961C8.35466 24.752 8.76578 24.765 12.0235 24.7587C15.2813 24.7525 15.6915 24.7381 16.9714 24.6774C18.2513 24.6167 19.1184 24.4122 19.8811 24.1141C20.67 23.8055 21.3389 23.3941 22.0039 22.7259C22.669 22.0578 23.0784 21.3882 23.3835 20.5976C23.6791 19.8344 23.88 18.9615 23.9355 17.6852C23.9914 16.4043 24.0046 15.9954 23.9983 12.7371C23.9921 9.4789 23.9775 9.07042 23.9167 7.79074C23.856 6.51106 23.6527 5.64202 23.3535 4.87906C23.0451 4.09018 22.6335 3.42226 21.9658 2.75626C21.2981 2.09026 20.628 1.68106 19.8377 1.37674C19.074 1.0813 18.2016 0.879939 16.9243 0.824739C15.6471 0.769539 15.2359 0.755379 11.977 0.761619C8.71802 0.767859 8.31002 0.781779 7.0301 0.844179ZM7.17026 22.5373C6.00026 22.4864 5.36498 22.292 4.94162 22.1293C4.38098 21.9133 3.98162 21.6522 3.5597 21.2343C3.13778 20.8165 2.87858 20.4157 2.6597 19.8563C2.4953 19.4329 2.2973 18.7983 2.24258 17.6283C2.18306 16.3638 2.17058 15.9841 2.16362 12.7803C2.15666 9.57658 2.1689 9.19738 2.22434 7.93234C2.27426 6.7633 2.46986 6.1273 2.63234 5.70418C2.84834 5.14282 3.1085 4.74418 3.5273 4.3225C3.9461 3.90082 4.3457 3.64114 4.90562 3.42226C5.3285 3.25714 5.96306 3.06082 7.13258 3.00514C8.3981 2.94514 8.7773 2.93314 11.9806 2.92618C15.1839 2.91922 15.564 2.93122 16.83 2.9869C17.9991 3.03778 18.6353 3.23146 19.0579 3.3949C19.6188 3.6109 20.0179 3.87034 20.4396 4.28986C20.8613 4.70938 21.1212 5.10754 21.3401 5.66866C21.5055 6.09034 21.7018 6.72466 21.757 7.8949C21.8172 9.16042 21.8309 9.53986 21.8367 12.7429C21.8424 15.9459 21.8311 16.3263 21.7757 17.5909C21.7246 18.7609 21.5307 19.3964 21.3677 19.8203C21.1517 20.3807 20.8913 20.7803 20.4723 21.2017C20.0532 21.6231 19.6541 21.8828 19.0939 22.1017C18.6715 22.2666 18.0363 22.4634 16.8677 22.5191C15.6022 22.5786 15.223 22.5911 12.0185 22.598C8.81402 22.605 8.43602 22.592 7.1705 22.5373M16.9529 6.34666C16.9534 6.63148 17.0383 6.90977 17.1969 7.14632C17.3556 7.38288 17.5808 7.56707 17.8442 7.67561C18.1075 7.78414 18.3971 7.81215 18.6764 7.75608C18.9556 7.70001 19.212 7.56239 19.413 7.36062C19.614 7.15885 19.7507 6.90199 19.8058 6.62254C19.8608 6.34308 19.8317 6.05358 19.7222 5.79064C19.6127 5.52771 19.4277 5.30315 19.1906 5.14538C18.9534 4.9876 18.6748 4.90369 18.39 4.90426C18.0082 4.90502 17.6423 5.0574 17.3728 5.32789C17.1033 5.59838 16.9523 5.96483 16.9529 6.34666ZM5.8385 12.7722C5.84522 16.1754 8.60906 18.9279 12.0115 18.9215C15.414 18.915 18.1685 16.1514 18.162 12.7482C18.1555 9.34498 15.391 6.5917 11.988 6.59842C8.58506 6.60514 5.83202 9.36946 5.8385 12.7722ZM7.99994 12.7679C7.99837 11.9767 8.23144 11.2029 8.66968 10.5442C9.10791 9.88553 9.73162 9.37159 10.4619 9.06739C11.1923 8.76319 11.9964 8.68238 12.7726 8.83519C13.5489 8.988 14.2624 9.36756 14.8229 9.92587C15.3834 10.4842 15.7658 11.1962 15.9217 11.9718C16.0776 12.7474 15.9999 13.5519 15.6986 14.2834C15.3973 15.0149 14.8859 15.6406 14.2289 16.0815C13.572 16.5223 12.7991 16.7585 12.0079 16.76C11.4826 16.7611 10.9622 16.6587 10.4765 16.4587C9.99076 16.2587 9.54918 15.9649 9.17699 15.5942C8.8048 15.2234 8.50929 14.783 8.30733 14.2981C8.10537 13.8132 8.00091 13.2932 7.99994 12.7679Z" fill="#3B3736"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_2085_10101">
                                <rect width="24" height="24" fill="white" transform="translate(0 0.760254)"/>
                            </clipPath>
                        </defs>
                    </svg>
                    <?php echo get_field('instagram_handle'); ?>
                </a>
            </p>
            <p>
                <?php echo get_field('hashtag'); ?>
            </p>
        </div>

        <?php echo apply_filters('the_content', get_field('shortcode')); ?>
    </div>
</div>